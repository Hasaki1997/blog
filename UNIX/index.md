# UNIX

UNIX是一种通用的,多用户分时操作系统.文件管理采用树结构.

UNIX是通过对进程的管理来管理用户和系统的各种命令和程序的运行的.

进程的概念:定义了一个计算的基本单元,他是一个执行某一个特定程序的实体,它拥有独立的地址空间,执行堆栈,文件描述等.

useradd : 增加新用户

passwd : 设置或者修改用户口令

userdel : 删除用户

usermod : 修改用户信息

​	-d 修改默认登录目录

​	-p 修改用户口令

​	-l 修改用户名

### shell 基本知识:

shell是用户和UNIX内核的交互接口.

shell是一种命令解释程序,提供命令解释和命令执行环境.

UNIX系统加载时shell就被加载并驻留内存.

shell是一种程序设计语言.

### UNIX常用命令

1. date : 显示或者设置系统的日期时间.   date +%m%d

   %m 月

   %d 日

   %y 年的后两位

   %D 以mm/dd/yy表示的日期

   %H 24小时制小时

2. cal : 显示日历

3. who : 列出当前用户系统的登录信息

   -H 显示用户信息及各列的标题

   -q 只显示用户名和用户总数

4. hostname : 显示或配置所登录主机的信息

   -a 显示主机的名字

   -F FILE从指定文件设置主机名

   -i 显示主机的ip地址信息

5. fc : 自动掉用vi编辑器修改已有历史命令，当保存时立即执行修改后的命令，也可以用来显示历史命令。fc命令编辑历史命令时，会自动调用vi编辑器。fc保存文件后，会自动执行所编辑过的命令。

   -l 显示历史命令；

   -n 显示历史命令时，不显示编号；

   -r 反序显示历史命令。

   -s 不使用编辑器,重复执行命令

   n 编辑第n条历史命令

6. pwd : 显示用户工作目录的绝对路径名

7. chmod : 修改文件的访问权限

8. chgrp : 设置文件的所属组信息

9. touch

   -a 修改该文件的访问时间

   -m 修改该文件的最后修改时间

10. cp

    -i 如果目标文件存在,请求确认

    -r 把目录复制到新的目录

11. mv

    -b 如果目标文件已存在,则制作它的备份

    -i 同cp

    -v 解释操作

12. wc : 用于计算一个/多个文件中的行数/字数/字符数

    -c 计算字符的数目

    -l 计算行的数目

    -w 计算单词的数目

13. find : 在指定目录查找文件

    -name 按照文件名查找文件。

    -perm 按照文件权限来查找文件。

    -prune 使用这一选项可以使find命令不在当前指定的目录中查找，如果同时使用了-depth选项，那么-prune选项将被find命令忽略。

    -user 按照文件属主来查找文件。

    -group 按照文件所属的组来查找文件。

    -mtime -n +n 按照文件的更改时间来查找文件， - n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前.Find命令还有-atime和-ctime选项，但它们都和-mtime选项相似，所以我们在这里只介绍-mtime选项。

    > **访问时间**（-atime/天，-amin/分钟）：用户最近一次访问时间。
    >
    > **修改时间**（-mtime/天，-mmin/分钟）：文件最后一次修改时间。
    >
    > **变化时间**（-ctime/天，-cmin/分钟）：文件数据元（例如权限等）最后一次修改时间。

    -nogroup 查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。

    -nouser 查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。

    -newer file1 ! file2 查找更改时间比文件file1新但比文件file2旧的文件。

    -type 查找某一类型的文件，诸如：

    b - 块设备文件。

    d - 目录。

    c - 字符设备文件。

    p - 管道文件。

    l - 符号链接文件。

    f - 普通文件。

    -size n[c] 查找文件长度为n块的文件，带有c时表示文件长度以字节计。

    -depth 在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。

    -fstype 查找位于某一类型文件系统中的文件，这些文件系统类型通常可以在配置文件/etc/fstab中找到，该配置文件中包含了本系统中有关文件系统的信息。

    -mount 在查找文件时不跨越文件系统mount点。

    -follow 如果find命令遇到符号链接文件，就跟踪至链接所指向的文件

    -o 或

    ! 非

    -regex 正则

    ```shell
    find . -regex ".*\(\.txt\|\.pdf\)$" 
    ```

14. whereis : 在特定目录中查找符合条件的文件

15. which : 在环境变量$PATH设置的目录里查找符合条件的文件

16. grep : 以指定模式搜索文件,指出在哪个文件中搜索到与指定的模式匹配的的字符串,并显示chunk所有包含该字符串的文本行

17. cat : 将若干文件按照列出的顺序进行连接后,在标准输出设备上显示

18. more : 按页查看文件内容

19. less : 显示文件爱你允许用户既可以向前翻页又可以向后翻页,b前翻,p后翻,输入百分比定位,按q键退出.

20. head : 用于查看一个文件或者多个文件的前面几行的内容

21. tail : 用于显示从制定行开始的知道末尾的文件内容

22. sort : 对文件内容按字母或数字顺序(按ASCII)排序

    -b 忽略前导空格

    -d 用字典序排序,忽略标点和控制符号

    -f 忽略大小写

    -n 数字以数值排序

    -o 输出到指定文件中

    -r 倒叙排序

    ```shell
    sort +0/+1/+2 文件名
    # 按照第一个字段,第二个字段,第三个字段排序(字段,非字符)
    ```

23. cat : 从文件中取出指定的列显示(域分隔符默认为tab)

    -f 在该选项后跟指定域的列表

    -d 在该选项后跟域分隔符

    -c 在该选项后跟指定的的分隔符的位置

    ```
    [root@localhost text]# cat test.txt 
    No Name Mark Percent
    01 tom 69 91
    02 jack 71 87
    03 alex 68 98
    
    ##############################################
    
    [root@localhost text]# cut -f 1 test.txt 
    No
    01
    02
    03
    
    ##############################################
    
    [root@localhost text]# cut -f2,3 test.txt 
    Name Mark
    tom 69
    jack 71
    alex 68
    ```

24. paste : 用于逐行连接文件或者把多个文件的域连接到新文件中

25. df : 显示已经挂载的文件系统的磁盘空间使用情况

    > **du命令**也是查看使用空间的，但是与 df 命令不同的是Linux du命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的。

26. tar : 完成若干文件的存档或读取存档文件

    ```
    将整个/etc目录下的文件全部打包成为/tmp/etc.tar
    tar -cvf /tmp/etc.tar /etc
    ```

    

    -f 指定多个文件名

    -c 打包

    -x 解压

    -v 显示操作过程

    -z 打包时用gzip压缩

    -j 打包时用bzip2压缩

    -t 查看tarfile中的文件

27. ps : 显示当前进程的状态信息

    -a 显示所有活动的进程

    -f 显示信息完整列表,包括完整的命令行

    > PID : 进程标识号
    >
    > TTY : 启动该进程的终端端口号
    >
    > TIME : 该进程占用CPU的时间
    >
    > COMMAND : 该进程是为哪个命令产生的进程

    ```
    ps -aux
    (-a)选择列出所有的程序
    (-u)列出所有用户的程序
    (-x)列出所有tty的程序
    ```

28. kill

    -a：当处理当前进程时，不限制命令名和进程号的对应关系

    -l <信息编号>：若不加<信息编号>选项，则-l参数会列出全部的信息名称

    -p：指定kill 命令只打印相关进程的进程号，而不发送任何信号

    -s <信息名称或编号>：指定要送出的信息

    -u：指定用户

    > 常用信号
    >
    > HUP     1    终端断线
    > INT     2    中断（同 Ctrl + C）
    > QUIT    3    退出（同 Ctrl + \）
    > TERM   15    终止
    > KILL    9    强制终止
    > CONT   18    继续（与STOP相反， fg/bg命令）
    > STOP   19    暂停（同 Ctrl + Z）

29. jobs : jobs查看当前启动的后台任务

    ```
    fg %number  # 将后台命令调到前台执行
    bg %number  # 将前台命令调到后台执行
    ctrl+z并不是结束命令,而是将正在前台执行的命令置于后台执行
    ```

    

30. crontab

    -e 编辑该用户的计时器设置

    -l 列出该用户的计时器设置

    -r 删除该用户的计时器设置

    -u <用户名称>：指定要设定计时器的用户名称

    > ```
    > minute   hour   day   month   week   command     顺序：分 时 日 月 周
    > ```

31. mail : 发送/接收电子邮件

    

​    
