# 量化设计与分析基础
## 分类： Flynn’s 分类，市场分类
基于指令流和数据流数量的计算机结构分类

串行计算机 SISD

并行计算机: 数据级并行 SIMD

单个数据流进入多个处理单元, 每个处理单元用单个指令流对数据进行独立操作MISD

并行计算机: 线程级或请求级并行 MIMD

Flynn分类模型是抽象和粗略的：

现代的不少并行处理器是SISD、SIMD和MIMD的混合类型。
## 系统结构的原始定义和现在的定义
### 原始定义

由程序员（机器语言）看见的（计算）系统属性，即慨念性结构和功能行为，以区分数据流动和控制逻辑设计的组成及物理实现。

### 现代定义

计算机系统结构（现代定义）：是在满足功能、性能和价格目标的条件下，设计、选择和互连 硬件部件构成计算机。

系统结构覆盖：
- 指令系统设计
- 组成（Organization）:计算机设计方面的高层次

  CPU内部结构、存储器、I/O系统、多处理器、网络

- 硬件: 计算机的具体实现技术

  详细逻辑设计、封装、冷却系统、板级设计，功耗等

<details>

## 实现技术、功耗、成本的趋势，可靠性

## 性能评价指标：响应时间、CPU时间、吞吐量
单位时间内完成的工作总量---吞吐量

## 性能评价方法：基准测试程序，SPEC测试程序集及指标（ SPEC Ratio、 Spec mark ）
</details>

## 量化： Amdahl 定律， CPU 时间计算
采用更快的执行方式后所获得的系统性能提高，与这种执行方式的使用频率或占总执行时间的比例有关。

加速比 = 采用改进措施后计算机的性能 / 没有采用措施时计算机的性能
      = 没有采用改进措施时某任务的执行时间 / 采用改进措施之后某任务的执行时间
Amdahl定律中，加速比与两个因素有关：

改进比例 Fe = 可改进部分的执行时间 / 改进前整个任务的执行时间

改进加速比 Se = 改进前改进部分的执行时间 / 改进后改进部分的执行时间

改进后整个任务的执行时间 T<sub>n</sub> = T<sub>0</sub>(1 - F<sub>e</sub> + F<sub>e</sub> / S<sub>e</sub>)

改进后整个系统的加速比 S<sub>n</sub> = T<sub>0</sub> / T<sub>n</sub>

CPU 的时钟周期数 = ∑I<sub>i</sub> * CPI<sub>i</sub>

CPU 时间 = (∑I<sub>i</sub> * CPI<sub>i</sub>) * 时钟周期
## 性价比：桌面机，服务器

# 指令系统原理与实例
指令集系统结构分类及特点： 堆栈、累加器、通用寄存器

通用寄存器系统结构的分类及特点（寄存器-存储器、寄存器-寄存器）

存储器寻址：基本单位、小端与大端模式、对齐访问、最常用寻址方式

常用操作数类型

常用指令操作、常用指令系统编码方式

MIPS系统结构也是RISC的主要特点、MIPS的指令长度（32位）

# 流水线：基础和中级概念
流水线定义

流水线的相关概念

流水线模型机指令系统、无相关流水线模型机多条指令执行过程，流水线模型机的控制信号的产生

流水线模型机中结构相关处理，数据前推、load前推实现，控制相关处理，指令执行的时序图

精确中断与非精确中断

经典5段流水线扩展浮点流水线，涉及到的写冲突、相关及处理

# 指令级并行及其开发
静态调度的循环展开方法，名相关，寄存器换名（编译器实现）

动态调度，记分牌算法（没有直接消除名相关：靠停顿延迟解决）， Tomasulo算法

动态转移预测，BPB，BTB，前瞻执行的基本概念（前瞻执行的4个阶段、ROB存放内容）

# 存储系统
Cache存储器的三种映像方式（全相联、直接映像，组相联），物理地址与Cache地址的映射计算，Cache的映像规则，块标识，替换算法，写策略

Cache性能计算：CPU执行时间，平均存储器访问时间（二级cache时，一级cache缺失代价实际上是二级cache的平均访存时间 ）

Cache性能优化的方法，减少缺失率4种，减少缺失代价5种，减少缺失率或缺失代价3种，减少命中时间5种。

虚拟存储器基本概念，页式虚拟存储器，映像规则，查找方法，替换算法，写策略，快表TLB的结构与作用

虚拟存储器与cache的综合
